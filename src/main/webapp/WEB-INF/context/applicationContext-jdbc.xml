<?xml version="1.0" encoding="UTF-8"?>
<beans default-autowire="byName" xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p" xmlns:c="http://www.springframework.org/schema/c"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">

    <bean id="dataSource" destroy-method="close" class="org.apache.commons.dbcp.BasicDataSource" p:driverClassName="org.h2.Driver">
        <property name="url" value="${db.url}"/>
        <property name="username" value="${db.user}"/>
        <property name="password" value="${db.password}"/>
    </bean>
    
    <bean id="queriesPropertyResource" class="org.springframework.core.io.ClassPathResource" c:path="queries.properties"/> 
    
    <bean id="queriesProperties" class="org.springframework.beans.factory.config.PropertiesFactoryBean">
        <property name="location" ref="queriesPropertyResource"/>
    </bean>
    
    <bean id="jdbcTemplate" class="org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate" c:dataSource-ref="dataSource"/>
    
    <bean id="clusterConfigDao" class="com.kuprowski.helenos.jdbc.core.support.ClusterConfigDao" p:queries-ref="queriesProperties" />
</beans>